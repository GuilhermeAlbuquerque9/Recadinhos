<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Recadinhos‚Ñ¢ ‚Äî Mural</title>

  <style>/* ======== FRUTIGER AERO REAL ======== */

/* Fundo branco b√°sico */
body {
    background: #ffffff;
    margin: 0;
    font-family: "Segoe UI", Tahoma, Arial, sans-serif;
}

/* CAIXA COM GRADIENTE AERO (verde ‚Üí azul ‚Üí aqua) */
.aero-box {
    margin: 40px auto;
    padding: 25px;
    width: 90%;
    max-width: 500px;

    background: linear-gradient(
        135deg,
        #9ee7ff 0%,
        #6ed4ff 20%,
        #85f7b4 55%,
        #f6ff8f 100%
    );
    border-radius: 18px;

    border: 2px solid rgba(0, 120, 255, 0.35);

    box-shadow:
        0 8px 20px rgba(0, 0, 0, 0.25),
        inset 0 0 12px rgba(255, 255, 255, 0.6);
    position: relative;
}

/* Reflexo curvo */
.aero-box::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 50%;
    background: radial-gradient(
        circle at top left,
        rgba(255, 255, 255, 0.7),
        rgba(255, 255, 255, 0.05) 70%
    );
    border-radius: 18px 18px 0 0;
}

/* T√çTULOS */
h1, h2 {
    text-align: center;
    font-weight: 700;
    color: #003366;
    text-shadow: 0 1px 0 white;
}

/* INPUTS ESTILO AERO */
input, textarea {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    border-radius: 12px;

    background: linear-gradient(#ffffff, #e9f7ff);
    border: 2px solid #7ccaff;

    box-shadow:
        inset 0 1px 3px rgba(0, 0, 0, 0.2),
        0 0 6px rgba(0, 150, 255, 0.25);
}

input:focus, textarea:focus {
    border-color: #0094ff;
    box-shadow:
        inset 0 0 5px rgba(0, 140, 255, 0.5),
        0 0 8px rgba(0, 160, 255, 0.6);
    outline: none;
}

/* BOT√ÉO AERO (BRILHO REDONDO) */
button {
    width: 100%;
    padding: 12px;
    margin-top: 12px;
    border: none;
    border-radius: 14px;

    background: linear-gradient(#6ecbff, #0094ff);
    color: white;
    font-size: 16px;
    font-weight: bold;

    box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.9),
        0 6px 16px rgba(0, 120, 255, 0.4);

    position: relative;
    cursor: pointer;
    transition: 0.2s;
}

/* brilho circular dentro do bot√£o */
button::after {
    content: "";
    position: absolute;
    top: 15%;
    left: 50%;
    transform: translateX(-50%);

    width: 60%;
    height: 40%;
    border-radius: 50%;
    background: radial-gradient(
        circle,
        rgba(255, 255, 255, 0.9),
        rgba(255, 255, 255, 0) 70%
    );
}

button:hover {
    background: linear
</style>
</head>
<body>

<table>
  <tr>
    <h1><strong>Recadinhos‚Ñ¢</strong></h1>
  </tr>
  <tr>
    <td>
      [ <a href="index.html">üè† In√≠cio</a> ]
      [ <a href="Sobre.html">üìÑ Sobre</a> ]
      [ <a href="Criar_conta.html">üôÇ Criar conta / Entrar</a> ]
      [ <a href="Postagens.html">üìß Postagens</a> ]
      [ <a href="Sair.html">‚ùå Sair</a> ]
    </td>
  </tr>
</table>

<h1>Mural de Recadinhos</h1>

<form id="formRecado">
  <label for="mensagem">Seu recadinho:</label><br>
  <textarea id="mensagem" name="mensagem" rows="5" cols="40" placeholder="Escreva algo... Voc√™ pode mencionar @nomes aqui!" required></textarea><br><br>

  <input type="submit" value="Publicar Recadinho">
  <input type="reset" value="Limpar">
</form>

<h2>üì∞ Recadinhos P√∫blicos</h2>
<ul id="listaPublicos"></ul>

<h2>üì© Recadinhos pra Voc√™</h2>
<ul id="listaPrivados"></ul>

<script>
// üîó COLE SUA API AQUI!
const API_URL = "https://script.google.com/macros/s/AKfycbwoha0vHb0khV5__DfiaAxRQKe51YeDlh03QyII-bATjNyJNdGriAMu7xmFEq5Vr0Jd/exec";

const usuarioAtual = localStorage.getItem('usuario') || '';
const form = document.getElementById('formRecado');
const listaPublicos = document.getElementById('listaPublicos');
const listaPrivados = document.getElementById('listaPrivados');

// Publicar recado
form.addEventListener('submit', async (e) => {
  e.preventDefault();
  const mensagem = document.getElementById('mensagem').value.trim();
  if (!mensagem) return alert('Escreva algo!');

  try {
    const resp = await fetch(API_URL, {
      method: 'POST',
      body: JSON.stringify({ tipo: 'novoRecado', autor: usuarioAtual || 'Anon', mensagem })
    });
    const dados = await resp.json();
    if (dados.status === 'ok') {
      form.reset();
      carregarRecados();
    } else {
      alert(dados.mensagem);
    }
  } catch (erro) {
    alert('Erro ao publicar: ' + erro);
  }
});

// Carregar recados
async function carregarRecados() {
  try {
    const resp = await fetch(API_URL + '?tipo=recadinhos');
    const dados = await resp.json();

    listaPublicos.innerHTML = '';
    listaPrivados.innerHTML = '';

    dados.forEach(r => {
      const li = document.createElement('li');
      const mencoes = r.mensagem.match(/@\w+/g);

      if (mencoes && usuarioAtual && mencoes.some(m => m.toLowerCase() === '@' + usuarioAtual.toLowerCase())) {
        li.textContent = `@${r.autor} para voc√™: ${r.mensagem}`;
        listaPrivados.appendChild(li);
      } else if (!mencoes) {
        li.textContent = `@${r.autor}: ${r.mensagem}`;
        listaPublicos.appendChild(li);
      }
      // Men√ß√µes para outros usu√°rios ficam ocultas
    });
  } catch (erro) {
    alert('Erro ao carregar recadinhos: ' + erro);
  }
}

// Atualiza o mural
carregarRecados();
setInterval(carregarRecados, 8000);
</script>

</body>
</html>


